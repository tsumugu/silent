# Check if package.json is being committed
# if git diff --cached --name-only | grep -q "package.json"; then
#   # Extract version from staged package.json
#   NEW_VERSION=$(git show :package.json | node -pe "JSON.parse(require('fs').readFileSync(0)).version")
#   # Extract version from HEAD package.json (or default to 0.0.0 if new repo/file)
#   OLD_VERSION=$(git show HEAD:package.json 2>/dev/null | node -pe "JSON.parse(require('fs').readFileSync(0)).version" 2>/dev/null || echo "0.0.0")

#   if [ "$NEW_VERSION" != "$OLD_VERSION" ]; then
#     echo "üì¶ Version changed from $OLD_VERSION to $NEW_VERSION. Updating screenshot..."
#     ./scripts/screen.sh
    
#     if [ $? -eq 0 ]; then
#       git add assets/screenshot.jpg
#       echo "üì∏ Screenshot updated and added to commit."
#     else
#       echo "‚ö†Ô∏è Failed to capture screenshot. Proceeding without update."
#     fi
#   else
#     echo "‚ÑπÔ∏è package.json changed but version is same ($NEW_VERSION). Skipping screenshot."
#   fi
# fi
